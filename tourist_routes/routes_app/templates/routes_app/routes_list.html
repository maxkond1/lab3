{% extends 'routes_app/base.html' %}

{% block content %}
<h1>Сохраненные туристические маршруты</h1>

{% if routes %}
<table>
    <thead>
        <tr>
            <th>Название</th>
            <th>Регион</th>
            <th>Протяженность (км)</th>
            <th>Продолжительность (дней)</th>
            <th>Сложность</th>
            <th>Лучшее время</th>
            <th>Дата создания</th>
            <th>Действия</th>
        </tr>
    </thead>
    <tbody>
        {% for route in routes %}
        <tr>
            <td>{{ route.name }}</td>
            <td>{{ route.region }}</td>
            <td>{{ route.length_km }}</td>
            <td>{{ route.duration_days }}</td>
            <td>{{ route.get_difficulty_display }}</td>
            <td>{{ route.best_season }}</td>
            <td>{{ route.created_at|date:"d.m.Y H:i" }}</td>
            <td>
                <a href="{% url 'delete_route' route.id %}" 
                   onclick="return confirm('Удалить маршрут \"{{ route.name }}\"?')">Удалить</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>Нет сохраненных маршрутов.</p>
{% endif %}

{% if xml_content %}
<h2>Содержимое XML файла</h2>
<pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto;">
<code>{{ xml_content }}</code>
</pre>
{% endif %}
{% endblock %}